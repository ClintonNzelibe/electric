{% extends "admin/admin_base.html" %}

{% block content %}
<h2 class="mb-4">Projects</h2>
<a href="{{ url_for('admin.add_project') }}" class="btn btn-primary mb-3">Add New Project</a>

<table class="table table-striped table-bordered align-middle">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Category</th>
            <th>Location</th>
            <th>Before Image</th>
            <th>After Image</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for project in projects %}
        <tr>
            <td>{{ project.id }}</td>
            <td>{{ project.title }}</td>
            <td>{{ project.category }}</td>
            <td>{{ project.location }}</td>
            <td>
                {% if project.before_image %}
                    <img src="{{ url_for('static', filename='uploads/' + project.before_image) }}" class="img-thumbnail" width="80">
                {% else %}N/A{% endif %}
            </td>
            <td>
                {% if project.after_image %}
                    <img src="{{ url_for('static', filename='uploads/' + project.after_image) }}" class="img-thumbnail" width="80">
                {% else %}N/A{% endif %}
            </td>
            <td>
                <a href="{{ url_for('admin.edit_project', id=project.id) }}" class="btn btn-sm btn-warning">Edit</a>
                <a href="{{ url_for('admin.delete_project', id=project.id) }}" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure?')">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
