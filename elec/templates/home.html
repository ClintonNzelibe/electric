{% extends "base.html" %}

{% block content %}

<style>
  /* Existing feature cards */
  .feature-card {
    background: #ffffff;
    transition: transform .25s ease, box-shadow .25s ease, background .25s ease;
    cursor: pointer;
  }
  .feature-card:hover {
    transform: translateY(-6px);
    background: #f0f7ff;
    box-shadow: 0 8px 18px rgba(0,0,0,0.1);
    border-color: #0d6efd;
  }
  .feature-card h5 {
    color: #0d6efd;
  }

  /* UPGRADED FULL-WIDTH CAROUSEL */
  .carousel-item img {
    width: 100%;
    height: 420px;      /* Increase height to make images larger */
    object-fit: cover;  /* Crop and fill the full width beautifully */
    border-radius: 14px;
  }

  .card-service {
    background: #fff;
    border-radius: 14px;
    padding: 22px;
    margin-top: 15px;
    box-shadow: 0 4px 18px rgba(0,0,0,0.1);
    text-align: center;
  }

  .carousel-container {
    max-width: 100%;
    width: 100%;
  }
    .small-img {
    width: 220px;       /* make smaller (adjust if needed) */
    height: 220px;
    object-fit: cover;  /* keeps image nicely cropped */
    border-radius: 50%; /* makes it fully rounded (circle) */
  }
    .clickable-img {
    cursor: pointer;
    transition: transform 0.25s ease, opacity 0.25s ease;
  }

  .clickable-img:hover {
    transform: scale(1.05);
    opacity: 0.85;
  }
  .why-section h3 {
        font-size: 2rem;
        font-weight: 700;
        color: #0d6efd;
        letter-spacing: 0.5px;
    }

    .why-section p {
        font-size: 1.05rem;
        line-height: 1.7;
    }

    .feature-card {
        background: #ffffff;
        border-radius: 15px;
        padding: 35px 25px;
        transition: all .3s ease;
        position: relative;
        overflow: hidden;
    }

    .feature-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .feature-icon {
        font-size: 45px;
        color: #0d6efd;
        margin-bottom: 15px;
        display: inline-block;
        animation: fadeIn .6s ease-in-out;
    }

    /* Simple smooth animation */
    @keyframes fadeIn {
        from {opacity: 0; transform: scale(.8);}
        to {opacity: 1; transform: scale(1);}
    }
</style>

<!-- -------------------------------------- -->
<!--            SERVICES INTRO              -->
<!-- -------------------------------------- -->
<section class="py-5">
  <div class="text-center mb-4">
    <h3 class="fw-bold">Our Core Services</h3>
    <p class="text-muted">Professional solutions for homes, offices and commercial projects.</p>
  </div>

  <div class="carousel-container mx-auto">

    <div id="serviceCarousel" class="carousel slide" data-bs-ride="carousel">

      <!-- Indicators -->
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#serviceCarousel" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#serviceCarousel" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#serviceCarousel" data-bs-slide-to="2"></button>
        <button type="button" data-bs-target="#serviceCarousel" data-bs-slide-to="3"></button>
      </div>

      <div class="carousel-inner">

        <!-- Slide 1 -->
        <div class="carousel-item active" data-bs-interval="4000">
          <img src="{{ url_for('static', filename='image/electrical.avif') }}" alt="Electrical Installations">
          <div class="card-service">
            <h4>Electrical Installations</h4>
            <p>Safe wiring, fittings, power upgrades, troubleshooting and full building installations.</p>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="carousel-item" data-bs-interval="4000">
          <img src="{{ url_for('static', filename='image/cctv.avif') }}" alt="Cctv & Surveillance">
          <div class="card-service">
            <h4>CCTV & Surveillance</h4>
            <p>Smart camera systems, access control and remote monitoring setups for maximum visibility.</p>
          </div>
        </div>

        <!-- Slide 3 -->
        <div class="carousel-item" data-bs-interval="4000">
          <img src="{{ url_for('static', filename='image/sol.jpeg') }}" alt="Solar Energy">
          <div class="card-service">
            <h4>Solar & Renewable Energy</h4>
            <p>Affordable solar panels, inverters and backup systems for steady reliable power.</p>
          </div>
        </div>

        <!-- Slide 4 -->
        <div class="carousel-item" data-bs-interval="4000">
          <img src="{{ url_for('static', filename='image/interior.avif') }}" alt="Interior Decoration">
          <div class="card-service">
            <h4>Interior Decoration</h4>
            <p>Modern lighting, POP ceilings, wall designs and creative home/office transformations.</p>
          </div>
        </div>

      </div>

      <!-- Controls -->
      <button class="carousel-control-prev" type="button" data-bs-target="#serviceCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>

      <button class="carousel-control-next" type="button" data-bs-target="#serviceCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>

    </div>
  </div>
</section>


<!-- ------------------------------------------------ -->
<!--                OTHER SECTIONS BELOW              -->
<!-- ------------------------------------------------ -->

<!-- IMAGE SHOWCASE -->
<section class="py-5 bg-light">
  <div class="text-center mb-4">
    <h3 class="fw-bold">We Bring Ideas to Life</h3>
    <p class="text-muted">Here are some snapshots of our work in electrical, solar and interior projects.</p>
  </div>
<div class="row g-3 text-center">
  <div class="col-md-4">
    <a href="/static/image/tric.jpeg" target="_blank">
      <img src="/static/image/tric.jpeg" class="img-fluid small-img shadow clickable-img">
    </a>
  </div>

  <div class="col-md-4">
    <a href="/static/image/sola.jpeg" target="_blank">
      <img src="/static/image/sola.jpeg" class="img-fluid small-img shadow clickable-img">
    </a>
  </div>

  <div class="col-md-4">
    <a href="/static/image/int.jpeg" target="_blank">
      <img src="/static/image/int.jpeg" class="img-fluid small-img shadow clickable-img">
    </a>
  </div>
</div>


</section>

<!-- WHY CHOOSE US -->
<section class="py-5 why-section">
  <div class="text-center mb-5">
    <h3>Why Clients Trust Us</h3>
    <p class="text-muted">We deliver quality service backed by skill, experience and integrity.</p>
  </div>

  <div class="row text-center g-4">

    <div class="col-md-4">
      <div class="feature-card shadow-sm">
        <i class="ri-award-line feature-icon"></i>
        <h5 class="fw-bold mb-2">Certified Professionals</h5>
        <p class="text-muted">
          Our technicians are trained, certified and experienced in handling real-life projects with precision.
        </p>
      </div>
    </div>

    <div class="col-md-4">
      <div class="feature-card shadow-sm">
        <i class="ri-tools-line feature-icon"></i>
        <h5 class="fw-bold mb-2">Quality Materials Only</h5>
        <p class="text-muted">
          We use trusted brands, durable equipment and standard fittings for safe, long-lasting installations.
        </p>
      </div>
    </div>

    <div class="col-md-4">
      <div class="feature-card shadow-sm">
        <i class="ri-timer-flash-line feature-icon"></i>
        <h5 class="fw-bold mb-2">Fast & Clean Delivery</h5>
        <p class="text-muted">
          Your project is completed on schedule with neat, professional finishing every time.
        </p>
      </div>
    </div>

  </div>
</section>

<!-- PROJECT PREVIEW -->
<section class="py-5">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="fw-bold">Recent Projects</h4>
    <a href="{{ url_for('user.projects') }}" class="text-decoration-none">View All →</a>
  </div>

  <div class="row g-3">
    {% for p in latest_projects %}
    <div class="col-md-6 col-lg-3">
      <div class="card shadow-sm">
        {% if p.after_image %}
          <img src="{{ url_for('static', filename='uploads/' ~ p.after_image) }}" class="card-img-top" style="height:180px; object-fit:cover;">
        {% elif p.before_image %}
          <img src="{{ url_for('static', filename='uploads/' ~ p.before_image) }}" class="card-img-top" style="height:180px; object-fit:cover;">
        {% else %}
          <div style="height:180px; background:#eaeaea;" class="d-flex justify-content-center align-items-center">No Image</div>
        {% endif %}
        <div class="card-body">
          <h5 class="card-title">{{ p.title }}</h5>
          <p class="text-muted" style="font-size:14px;">{{ p.category or '' }} • {{ p.location or '' }}</p>
          <p style="font-size:14px;">{{ p.description[:85] }}{% if p.description|length > 85 %}...{% endif %}</p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>

{% endblock %}
